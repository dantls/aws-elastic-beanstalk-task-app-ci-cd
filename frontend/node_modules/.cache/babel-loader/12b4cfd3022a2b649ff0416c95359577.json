{"ast":null,"code":"import _objectSpread from\"/home/danilo/projectchallenge/moddez2025/challenge1/bia-eb/app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{useState,useEffect}from\"react\";import Header from\"./components/Header\";import Tasks from\"./components/Tasks\";import AddTask from\"./components/AddTask\";import Footer from\"./components/Footer\";import About from\"./components/About\";import{BrowserRouter as Router,Route}from\"react-router-dom\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const App=()=>{const[showAddTask,setShowAddTask]=useState(false);const[tasks,setTasks]=useState([]);const[darkMode,setDarkMode]=useState(false);const[language,setLanguage]=useState(\"pt\");const translations={en:{taskTracker:\"Task Application\",addTask:\"Add Task\",closeAddTask:\"Close\",addTaskForm:\"Add Task\",saveTask:\"Save Task\",noTasks:\"No tasks at the moment\",about:\"About\",important:\"Important?\",task:\"Task\",addDay:\"Add Day & Time\",addTaskPlaceholder:\"Add Task\",addDayPlaceholder:\"Add Day & Time\",pleaseAddTask:\"Please add a task\",version:\"Version 1.0.0\",builtWith:\"Task tracker built with React\",goBack:\"Go Back\",darkMode:\"Dark Mode\",language:\"Language\"},pt:{taskTracker:\"Aplicação de Tarefas\",addTask:\"Adicionar Tarefa\",closeAddTask:\"Fechar\",addTaskForm:\"Adicionar Tarefa\",saveTask:\"Salvar Tarefa\",noTasks:\"Nenhuma tarefa no momento\",about:\"Sobre\",important:\"Importante?\",task:\"Tarefa\",addDay:\"Adicionar Dia e Hora\",addTaskPlaceholder:\"Adicionar Tarefa\",addDayPlaceholder:\"Adicionar Dia e Hora\",pleaseAddTask:\"Por favor adicione uma tarefa\",version:\"Versão 1.0.0\",builtWith:\"Rastreador de tarefas construído com React\",goBack:\"Voltar\",darkMode:\"Modo Escuro\",language:\"Idioma\"}};// Fetch tasks\nconst fetchTasks=async()=>{const res=await fetch(\"/api/tarefas\");const data=await res.json();return data;};// Fetch task\nconst fetchTask=async id=>{const res=await fetch(\"/api/tarefas/\".concat(id));const data=await res.json();return data;};useEffect(()=>{const getTasks=async()=>{const tasksFromServer=await fetchTasks();setTasks(tasksFromServer);};getTasks();},[]);// Add Task\nconst addTask=async task=>{const res=await fetch(\"/api/tarefas\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(task)});const data=await res.json();setTasks([...tasks,data]);};// Delete Task\nconst deleteTask=async id=>{const res=await fetch(\"/api/tarefas/\".concat(id),{method:\"DELETE\"});//We should control the response status to decide if we will change the state or not.\nres.status===200?setTasks(tasks.filter(task=>task.uuid!==id)):alert(\"Error Deleting This Task\");};// Toggle Reminder\nconst toggleReminder=async id=>{const taskToToggle=await fetchTask(id);const updTask=_objectSpread(_objectSpread({},taskToToggle),{},{reminder:!taskToToggle.reminder});const res=await fetch(\"/api/tarefas/update_priority/\".concat(id),{method:\"PUT\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify(updTask)});const data=await res.json();setTasks(tasks.map(task=>task.uuid===id?_objectSpread(_objectSpread({},task),{},{reminder:data.reminder}):task));};// Toggle Dark Mode\nconst toggleDarkMode=()=>{setDarkMode(!darkMode);};// Toggle Language\nconst toggleLanguage=()=>{setLanguage(language===\"en\"?\"pt\":\"en\");};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container \".concat(darkMode?\"dark\":\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleDarkMode,className:\"btn-control\",children:translations[language].darkMode}),/*#__PURE__*/_jsxs(\"button\",{onClick:toggleLanguage,className:\"btn-control\",children:[translations[language].language,\": \",language.toUpperCase()]})]}),/*#__PURE__*/_jsx(Header,{onAdd:()=>setShowAddTask(!showAddTask),showAdd:showAddTask,translations:translations,language:language}),/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,render:props=>/*#__PURE__*/_jsxs(_Fragment,{children:[showAddTask&&/*#__PURE__*/_jsx(AddTask,{onAdd:addTask,translations:translations,language:language}),tasks.length>0?/*#__PURE__*/_jsx(Tasks,{tasks:tasks,onDelete:deleteTask,onToggle:toggleReminder}):/*#__PURE__*/_jsx(\"p\",{className:\"no-tasks\",children:translations[language].noTasks})]})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",component:()=>/*#__PURE__*/_jsx(About,{translations:translations,language:language})}),/*#__PURE__*/_jsx(Footer,{translations:translations,language:language})]})});};export default App;","map":null,"metadata":{},"sourceType":"module"}